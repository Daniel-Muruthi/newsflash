{% extends 'base.html'%}
{% import 'macros.html' as macro%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    {% if title %}
    <title> {{ title }}</title>
    {% else %}
    <title> Newsflash </title>
    {% endif %}   
</head>
<body>
    {% block content %}
    <!-- <div class="navbar navbar-default bg-light">
        <a href="#">
            <img class="mx-4" src="" height="50px" width="50px"> 
        </a>
        <h2 class="navbar-nav mx-3">
            <a href="#" style="text-decoration:none; color:black; font-size:x-large; font-weight:bolder;">
                NewsFlash
            </a>
        </h2>
    </div> -->
    <div class="container">
        <form>
            <input type="text"  name="news_query" placeholder="enter search topic for news eg finance or your preferred news source eg cnn" class="form-control ">
            <div class="my-2" style="margin-top:1rem !important;"></div>
            <input type="submit" value="Submit" class="btn btn-success my-2">
        </form>
    </div>
    <!-- Popular news section  -->
    <div class="container">
        <div style="display:flex;">
            <div class="row col-sm-12 col-md-12 col-lg-12 card" style="float:none;">
                <h2 class="text-center">Top 10 Most Popular News</h2>
                <hr>
                {% for news_items in current_news %}
                <div style="display:flex; margin:2rem;" class="col-sm-5 my-3">
                    <img src= '{{ news_items.urlToImage }}' height="200" width="200" style="border-radius: 20px;">
                    <div style="margin-left:2rem; margin-right:2rem;">
                        <h4>{{ news_items.description | truncate(40)}}</h4>
                        <p>Author: {{news_items.author}} || posted at: {{ news_items.publishedAt }}</p>
                        <button class="btn btn-primary text-center"><a href='{{news_items.url}}' style="text-decoration:none; align-self:center; color:white;">Visit site</a></button>
                    </div>
                    <br>
                </div>
                

                {% endfor %}
            </div>
        </div>
    </div>
    <hr>
    <div class="container">
        <div class="row col-sm-12 col-md-12 col-lg-12">
            <h2 class="text-center" id="newssource">News Sources</h2>
            <hr>
            {% for source in newsSources %}
            <div class="card col-sm-4" style="border: 1px solid white; box-shadow: 0px 0px 4px 1px rgb(230, 229, 229);">
                <h4 class="text-center"><a href="{{source.url}}" style="text-decoration: none;">{{ source.name }}</a></h4>
                <p>{{ source.description | truncate(90) }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
    <div style="background-color: black; border:1px solid black; box-shadow: 0px 0px 4px 1px grey; text-align: center;">
        <h3>
            <a href="https://github.com/Daniel-Muruthi" style="text-decoration:none; color:white" class="text-center">www.danielmuruthi.com</a>
        </h3>
    </div>
    {% endblock%}
</body>
</html>
